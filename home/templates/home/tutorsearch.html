{% extends "home/navbar.html" %}
{% block page %}
<form action='/tutorsearch' method="GET">
    <label for="search-input">Tutor Search:</label>
    <input type="text" class="form-control" id="search-input" name="search-input" placeholder="Search for tutors..." required><br><br>
    <button class="btn btn-primary" type="submit">Search</button>
</form>
{% if tutor_list %}
    <h2>Results:</h2>
    <table>
        <tr>
            <th>Tutor Name</th>
            <th>Major</th>
            <th>Pay Rate</th>
            <th>Request</th>
        </tr>
        {% for tutor in tutor_list %}
            {% if tutor.is_tutor %}
                <tr>
                    <td>{{ tutor.full_name }}</td>
                    <td>{{ tutor.major }}</td>
                    <td>{{ tutor.pay_rate }}</td>
                    <td>
                        <form action="" method="POST">
                            {% csrf_token %}
                            <input type="hidden" name="tutor_id" value="{{ tutor.id }}">
                            <input type="date" name="session_date" required>
                            <input type="time" name="session_time" required>
                            <input type="number" name="pay_rate" min="0" step="0.01" required>
                            <button type="submit">Request</button>
                        </form>
                    </td>
                </tr>
            {% endif %}
        {% endfor %}
    </table>
{% endif %}
{% endblock %}
